record(fanout, "$(assy)dLimFLNK") {
  field(LNK1, "$(d1)NgLimSet.PROC PP MS")
  field(LNK2, "$(d1)PsLimSet.PROC PP MS")
  field(LNK3, "$(d2)NgLimSet.PROC PP MS")
  field(LNK4, "$(d2)PsLimSet.PROC PP MS")
  field(LNK5, "$(d3)NgLimSet.PROC PP MS")
  field(LNK6, "$(d3)PsLimSet.PROC PP MS")
  field(FLNK, "$(assy)xLimFLNK.PROC PP MS")
}

record(fanout, "$(assy)xLimFLNK") {
  field(LNK1, "$(x1)NgLimSet.PROC PP MS")
  field(LNK2, "$(x1)PsLimSet.PROC PP MS")
  field(LNK3, "$(x2)NgLimSet.PROC PP MS")
  field(LNK4, "$(x2)PsLimSet.PROC PP MS")
  field(LNK5, "$(x3)NgLimSet.PROC PP MS")
  field(LNK6, "$(x3)PsLimSet.PROC PP MS")
}

record(fanout, "$(assy)dAmpEnaFLNK") {
  field(LNK1, "$(d1)AmpEna.PROC PP MS")
  field(LNK2, "$(d2)AmpEna.PROC PP MS")
  field(LNK3, "$(d3)AmpEna.PROC PP MS")
  field(LNK4, "$(x1)AmpEna.PROC PP MS")
  field(LNK5, "$(x2)AmpEna.PROC PP MS")
  field(LNK6, "$(x3)AmpEna.PROC PP MS")
}

record(bi, "$(x1)NgLimSet") {
  field(DESC, "NgLim Status")
  field(OSV, "MAJOR")
  field(ZNAM, "OK")
  field(ONAM, "Tripped") 
# field(PINI, "YES")
  field(INP, "$(x1)NgLimCALC.VAL PP MS")
}  

record(calc,"$(x1)NgLimCALC") {
  field(CALC,"A+B+C")
  field(INPA,"$(d1)NgLimSet.VAL NPP MS")
  field(INPB,"$(d2)NgLimSet.VAL NPP MS")
  field(INPC,"$(d3)NgLimSet.VAL NPP MS")
}

record(bi, "$(x1)PsLimSet") {
  field(DESC, "PsLim Status")
  field(OSV, "MAJOR")
  field(ZNAM, "OK")
  field(ONAM, "Tripped") 
# field(PINI, "YES")
  field(INP, "$(x1)PsLimCALC.VAL PP MS")
}  

record(calc,"$(x1)PsLimCALC") {
  field(CALC,"A+B+C")
  field(INPA,"$(d1)PsLimSet.VAL NPP MS")
  field(INPB,"$(d2)PsLimSet.VAL NPP MS")
  field(INPC,"$(d3)PsLimSet.VAL NPP MS")
}

record(bi, "$(x2)NgLimSet") {
  field(DESC, "NgLim Status")
  field(OSV, "MAJOR")
  field(ZNAM, "OK")
  field(ONAM, "Tripped") 
# field(PINI, "YES")
  field(INP, "$(x2)NgLimCALC.VAL PP MS")
}  

record(calc,"$(x2)NgLimCALC") {
  field(CALC,"G>0?(C+E+B):(D+F+A)")
  field(INPA,"$(d1)NgLimSet.VAL NPP MS")
  field(INPB,"$(d1)PsLimSet.VAL NPP MS")
  field(INPC,"$(d2)NgLimSet.VAL NPP MS")
  field(INPD,"$(d2)PsLimSet.VAL NPP MS")
  field(INPE,"$(d3)NgLimSet.VAL NPP MS")
  field(INPF,"$(d3)PsLimSet.VAL NPP MS")
  field(INPG,"$(assy)Base1:23.VAL NPP MS")
}

record(bi, "$(x2)PsLimSet") {
  field(DESC, "PsLim Status")
  field(OSV, "MAJOR")
  field(ZNAM, "OK")
  field(ONAM, "Tripped") 
# field(PINI, "YES")
  field(INP, "$(x2)PsLimCALC.VAL PP MS")
}  

record(calc,"$(x2)PsLimCALC") {
  field(CALC,"G>0?(D+F+A):(C+E+B)")
  field(INPA,"$(d1)NgLimSet.VAL NPP MS")
  field(INPB,"$(d1)PsLimSet.VAL NPP MS")
  field(INPC,"$(d2)NgLimSet.VAL NPP MS")
  field(INPD,"$(d2)PsLimSet.VAL NPP MS")
  field(INPE,"$(d3)NgLimSet.VAL NPP MS")
  field(INPF,"$(d3)PsLimSet.VAL NPP MS")
  field(INPG,"$(assy)Base1:23.VAL NPP MS")
}

record(bi, "$(x3)NgLimSet") {
  field(DESC, "NgLim Status")
  field(OSV, "MAJOR")
  field(ZNAM, "OK")
  field(ONAM, "Tripped") 
# field(PINI, "YES")
  field(INP, "$(x3)NgLimCALC.VAL PP MS")
}  

record(calc,"$(x3)NgLimCALC") {
  field(CALC,"E>0?(A+D):(B+C)")
  field(INPA,"$(d2)NgLimSet.VAL NPP MS")
  field(INPB,"$(d2)PsLimSet.VAL NPP MS")
  field(INPC,"$(d3)NgLimSet.VAL NPP MS")
  field(INPD,"$(d3)PsLimSet.VAL NPP MS")
  field(INPE,"$(assy)Base23.VAL NPP MS")
}

record(bi, "$(x3)PsLimSet") {
  field(DESC, "PsLim Status")
  field(OSV, "MAJOR")
  field(ZNAM, "OK")
  field(ONAM, "Tripped") 
# field(PINI, "YES")
  field(INP, "$(x3)PsLimCALC.VAL PP MS")
}  

record(calc,"$(x3)PsLimCALC") {
  field(CALC,"E>0?(B+C):(A+D)")
  field(INPA,"$(d2)NgLimSet.VAL NPP MS")
  field(INPB,"$(d2)PsLimSet.VAL NPP MS")
  field(INPC,"$(d3)NgLimSet.VAL NPP MS")
  field(INPD,"$(d3)PsLimSet.VAL NPP MS")
  field(INPE,"$(assy)Base23.VAL NPP MS")
}

record(bi, "$(x1)AmpEna") {
  field(DESC, "Amplifier Enable")
  field(ZSV, "MAJOR")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
# field(PINI, "YES")
  field(INP, "$(x1)AmpEnaCALC.VAL PP MS")
} 

record(calc,"$(x1)AmpEnaCALC") {
  field(CALC,"((A>0)&&(B>0)&&(C>0))?1:0")
  field(INPA,"$(d1)AmpEna.VAL NPP MS")
  field(INPB,"$(d2)AmpEna.VAL NPP MS")
  field(INPC,"$(d3)AmpEna.VAL NPP MS")
}

record(bi, "$(x2)AmpEna") {
  field(DESC, "Amplifier Enable")
  field(ZSV, "MAJOR")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
# field(PINI, "YES")
  field(INP, "$(x2)AmpEnaCALC.VAL PP MS")
} 

record(calc,"$(x2)AmpEnaCALC") {
  field(CALC,"((A>0)&&(B>0)&&(C>0))?1:0")
  field(INPA,"$(d1)AmpEna.VAL NPP MS")
  field(INPB,"$(d2)AmpEna.VAL NPP MS")
  field(INPC,"$(d3)AmpEna.VAL NPP MS")
}

record(bi, "$(x3)AmpEna") {
  field(DESC, "Amplifier Enable")
  field(ZSV, "MAJOR")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
# field(PINI, "YES")
  field(INP, "$(x3)AmpEnaCALC.VAL PP MS")
} 

record(calc,"$(x3)AmpEnaCALC") {
  field(CALC,"((A>0)&&(B>0))?1:0")
  field(INPA,"$(d2)AmpEna.VAL NPP MS")
  field(INPB,"$(d3)AmpEna.VAL NPP MS")
}

